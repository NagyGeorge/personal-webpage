{% extends "base.html" %}

{% block title %}{{ project.title }} - My Site{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <!-- Back button -->
    <div class="mb-6">
        <a href="{% url 'projects' %}" class="text-blue-600 hover:underline">
            ← Back to Projects
        </a>
    </div>

    <!-- Project header -->
    <div class="mb-8">
        <h1 class="text-4xl font-bold mb-4">{{ project.title }}</h1>
        {% if project.featured %}
            <span class="inline-block bg-blue-100 text-blue-800 text-sm px-3 py-1 rounded-full mb-4">
                Featured Project
            </span>
        {% endif %}
    </div>

    <!-- Project screenshot -->
    {% if project.screenshot %}
        <div class="mb-8">
            <img src="{{ project.screenshot.url }}"
                 alt="{{ project.title }}"
                 class="w-full max-w-2xl mx-auto rounded-lg shadow-lg">
        </div>
    {% endif %}

    <!-- Project details -->
    <div class="grid md:grid-cols-3 gap-8">
        <!-- Main content -->
        <div class="md:col-span-2">
            <h2 class="text-2xl font-semibold mb-4">About This Project</h2>
            <div class="prose prose-gray max-w-none">
                <p class="text-lg leading-relaxed">{{ project.description }}</p>
            </div>

            <!-- Technical details -->
            <div class="mt-8">
                <h3 class="text-xl font-semibold mb-4">Technical Overview</h3>
                <div class="bg-gray-50 p-6 rounded-lg">
                    {% if "Django" in project.description %}
                        <h4 class="font-medium mb-2">Backend Technologies:</h4>
                        <ul class="list-disc list-inside mb-4 space-y-1">
                            {% if "Django" in project.description %}<li>Django 5.x web framework</li>{% endif %}
                            {% if "PostgreSQL" in project.description %}<li>PostgreSQL database</li>{% endif %}
                            {% if "Redis" in project.description %}<li>Redis for caching and task queue</li>{% endif %}
                            {% if "Celery" in project.description %}<li>Celery for background tasks</li>{% endif %}
                        </ul>
                    {% endif %}

                    {% if "HTMX" in project.description or "Tailwind" in project.description %}
                        <h4 class="font-medium mb-2">Frontend Technologies:</h4>
                        <ul class="list-disc list-inside mb-4 space-y-1">
                            {% if "HTMX" in project.description %}<li>HTMX for dynamic interactions</li>{% endif %}
                            {% if "Tailwind" in project.description %}<li>Tailwind CSS for styling</li>{% endif %}
                        </ul>
                    {% endif %}

                    {% if "Docker" in project.description or "GitHub Actions" in project.description %}
                        <h4 class="font-medium mb-2">DevOps & Deployment:</h4>
                        <ul class="list-disc list-inside space-y-1">
                            {% if "Docker" in project.description %}<li>Docker containerization</li>{% endif %}
                            {% if "GitHub Actions" in project.description %}<li>CI/CD with GitHub Actions</li>{% endif %}
                            {% if "Railway" in project.description %}<li>Railway platform deployment</li>{% endif %}
                        </ul>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Sidebar -->
        <div class="md:col-span-1">
            <div class="bg-white border rounded-lg p-6 shadow-sm">
                <h3 class="text-lg font-semibold mb-4">Project Links</h3>

                {% if project.link %}
                    <a href="{{ project.link }}"
                       target="_blank"
                       class="block w-full bg-blue-600 text-white text-center py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors mb-3">
                        View Live Site →
                    </a>
                {% endif %}

                <a href="https://github.com/NagyGeorge/my-site"
                   target="_blank"
                   class="block w-full bg-gray-800 text-white text-center py-3 px-4 rounded-lg hover:bg-gray-900 transition-colors mb-4">
                    View on GitHub →
                </a>

                <div class="text-sm text-gray-600">
                    <p class="mb-2"><strong>Created:</strong> {{ project.created_at|date:"M d, Y" }}</p>
                    {% if project.updated_at != project.created_at %}
                        <p><strong>Updated:</strong> {{ project.updated_at|date:"M d, Y" }}</p>
                    {% endif %}
                </div>
            </div>

            <!-- Features section for this specific project -->
            {% if "Django" in project.description %}
                <div class="bg-white border rounded-lg p-6 shadow-sm mt-6">
                    <h3 class="text-lg font-semibold mb-4">Key Features</h3>
                    <ul class="space-y-2 text-sm">
                        <li class="flex items-start">
                            <span class="text-green-500 mr-2">✓</span>
                            Blog with CRUD operations
                        </li>
                        <li class="flex items-start">
                            <span class="text-green-500 mr-2">✓</span>
                            Portfolio showcase
                        </li>
                        <li class="flex items-start">
                            <span class="text-green-500 mr-2">✓</span>
                            Health monitoring
                        </li>
                        <li class="flex items-start">
                            <span class="text-green-500 mr-2">✓</span>
                            Contact form with email
                        </li>
                        <li class="flex items-start">
                            <span class="text-green-500 mr-2">✓</span>
                            Responsive design
                        </li>
                        <li class="flex items-start">
                            <span class="text-green-500 mr-2">✓</span>
                            Production deployment
                        </li>
                    </ul>
                </div>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
